# System Design социальной сети для курса по System Design

## Функциональные требования:
- Публикация постов из путешествий с фотографиями, небольшим описанием и привязкой к конкретному месту путешествия:
  - 512 символов на описание,
  - до 5 фотографий на 1 пост;
- Оценка и комментарии постов других путешественников. Комментарий включает в себя:
  - круглое фото комментирующего,
  - текст до 128 символов,
  - до 3-х фото;
- Подписка на других путешественников, чтобы следить за их активностью:
  - максимум можно подписаться на 500 людей;
- Поиск популярных мест для путешествий и просмотр постов с этих мест в виде ТОПа мест по странам и городам:
  - до 128 символов на текст для поиска,
  - возможность прокрутить все посты из найденного места,
  - найденные посты состоят из:
    - круглое фото путешественника,
    - имя/фамилия путешественника,
    - счетчик лайков,
    - счетчик комментариев,
    - 64 первых символа поста,
    - 3 фотография;
- Общаться с другими путешественниками в личных сообщениях:
  - сообщения в чатах приходят в real-time без перезагрузки страницы,
  - уведомления о новых сообщениях от других пользователей приходят в реал-тайме,
  - до 1024 символов на одно личное сообщение,
  - до 10 фотографий в одном личном сообщении,
  - возможность просмотреть всю историю сообщений;
- просматривать ленту других путешественников:
  - возможность просмотреть всю историю ленты путешественника,
  - лента содержит:
    - круглое фото путешественника,
    - Имя/Фамилия,
    - текст поста,
    - прикрепленные фото,
    - гео,
    - счетчик лайков,
    - счетчик комментариев;
---
## Нефункциональные требования:
- DAU 10 000 000;
- Запуск только в СНГ;
- Работает онлайн из браузера и мобильных устройств;
- Availability 99.99%;
- Latency <= 1 сек на поиск популярных мест/прогрузку ленты других путешественников;
- Latency на запись комментария, поста < 2сек;
- Realtime переписка в личных сообщениях;
- Действия пользователя в день (средние значения):
  - 1 пост в неделю = 0.14 постов в день,
  - 5 комментариев к постам,
  - личная переписка с 3-мя пользователями:
    - по 30 сообщений каждому;
  - ищет 3 места через поиск,
  - просматривает 200 постов в ленте,
  - лайкает 50 постов,
  - пролистывает 200 сообщений,
  - подписывается на 1 пользователя в неделю = 0.14 в день;
- Данные хранятся всегда;
- Количество комментариев неограничено;
---
## Сущности:
#### _Пост: 2 101 168 B = 2 MB_
- ID поста: 8 B
- ID пользователя: 8 B
- ФИО пользователя: 128 B
- Аватарка пользователя: 100 KB
- Текст поста: 512 символа * 2 B = 1 024 B
- Массив фотографий: 5 фото * 400 KB = 2 000 KB

#### _Комментарий: 1 300 272 B = 1.3 MB_
- ID комментария: 8 B
- ID поста: 8 B
- Текст комментария: 128 символа * 2 B = 256 B
- Массив фото: 3 фото * 400 KB = 1 200 KB
- Аватар комментирующего: 100 KB

#### _Личное сообщение: 4 002 064 B = 4 MB_
- ID пользователя_1: 8 B
- ID пользователя_2: 8 B
- Текст сообщения: 1024 символа * 2 B = 2 048 B
- Фото в сообщении: 10 * 400 KB = 4 000 KB

#### _Фильтр на поиск ТОП мест: 128 B_
- Текст запроса: 64 символа * 2 B = 128 B

#### _Посты при пагинации в ленте/фильтрации: 4 112 B = 4 KB_
- ID поста: 8 B
- ID автора: 8 B
- Ссылка на аватар автора: 256 * 2 B = 512 B
- Текст поста: 512 символа * 2 B = 1 024 B
- Массив ссылок на фотографии: 5 ссылок * 256 символов * 2 B = 2 560 B

#### _Лайк: 24 B_
- ID лайка: 8 B
- ID пользователя: 8 B
- ID поста: 8 B

#### _Подписка: 24 B_
- ID подписки: 8 B
- ID подписчика: 8 B
- ID путешественника: 8 B
---
## Расчеты:
